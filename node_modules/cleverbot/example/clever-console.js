
var readline = require('readline');
var CleverBot = require('../cleverbot');

var rl = readline.createInterface({
	input: process.stdin,
	output: process.stdout,
	terminal: true
});

var prompt = function(p){
	p += ": ";
	rl.setPrompt(p,p.length);
	rl.prompt();
};

var bot = new CleverBot();
rl.on('line', function(line){
	rl.write("...");
	rl.pause();
	bot.think(line, function(err, answer){
		rl.write(null,{ctrl:true,name:"u"});
		if(err){
			prompt("ERR");
			console.error(err.message);
			console.error(err);
		}else{
			prompt("Bot");
			console.log(answer);
		}
		prompt("You");
	});
});
prompt("You");
